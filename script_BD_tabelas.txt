
-- Tabela Colecao
CREATE TABLE Colecao (
ID SERIAL PRIMARY KEY,
Nome VARCHAR(255)
);

-- Tabela Bibliotecario
CREATE TABLE Bibliotecario (
ID SERIAL PRIMARY KEY,
cpf varchar(11) unique,
nome VARCHAR(255),
Rua VARCHAR(255),
Cidade VARCHAR(255),
CEP VARCHAR(10),
Telefone VARCHAR(20),
Endereco VARCHAR(255)
);
-- Tabela Livro
CREATE TABLE Livro (
ISBN VARCHAR(13) PRIMARY KEY,
Titulo VARCHAR(255),
Editora VARCHAR(255),
Autores varchar(5000),
ID_Colecao INT,
ID_Bibliotecario INT, -- ID do bibliotecÃ¡rio que registrou o livro
FOREIGN KEY (ID_Colecao) REFERENCES Colecao(ID),
FOREIGN KEY (ID_Bibliotecario) REFERENCES Bibliotecario(ID)
);
-- Tabela Categoria
CREATE TABLE Categoria (
ID_cat SERIAL PRIMARY KEY,
Nome VARCHAR(255),
Tempo_Emprestimo INT
);

-- Tabela Exemplar
CREATE TABLE Exemplar (
id SERIAL PRIMARY KEY,
ISBN_Livro VARCHAR(13),
Status VARCHAR(50),
ID_Bibliotecario INT, -- ID do bibliotecÃ¡rio que registrou o exemplar
FOREIGN KEY (ISBN_Livro) REFERENCES Livro(ISBN),
FOREIGN KEY (ID_Bibliotecario) REFERENCES Bibliotecario(ID)
);

-- Tabela Usuario
CREATE TABLE Usuario (
ID SERIAL PRIMARY KEY,
nome VARCHAR(255),
Rua VARCHAR(255),
Cidade VARCHAR(255),
cpf varchar(11) unique,
CEP VARCHAR(10),
Telefone VARCHAR(20),
Endereco VARCHAR(255),
Multa NUMERIC,
ID_Categoria int,
FOREIGN KEY (ID_Categoria) REFERENCES Categoria(ID_cat)
);

-- Tabela Emprestimo
CREATE TABLE Emprestimo (
ID SERIAL PRIMARY KEY,
Data_Emp DATE,
Data_Dev DATE,
Renovacoes INT,
ID_Exemplar INT,
ID_Usuario INT,
FOREIGN KEY (ID_Exemplar) REFERENCES Exemplar(id),
FOREIGN KEY (ID_Usuario) REFERENCES Usuario(id)
);

-- Tabela Reserva
CREATE TABLE Reserva (
ID SERIAL PRIMARY KEY,
Data_Res DATE,
ID_Livro varchar(13),
ID_Usuario INT,
FOREIGN KEY (ID_Livro) REFERENCES Livro(ISBN),
FOREIGN KEY (ID_Usuario) REFERENCES Usuario(id)
);


-- Tabela Assistente
CREATE TABLE Assistente (
ID SERIAL PRIMARY KEY,
cpf varchar(11) unique,
nome VARCHAR(255),
Rua VARCHAR(255),
Cidade VARCHAR(255),
CEP VARCHAR(10),
Telefone VARCHAR(20),
Endereco VARCHAR(255),
ID_Bibliotecario INT,
FOREIGN KEY (ID_Bibliotecario) REFERENCES Bibliotecario(ID)
);
